@startuml
skinparam defaultFontName "Segoe UI"
skinparam defaultFontSize 10
skinparam backgroundColor #FFFFFF

title Процесс бронирования и проведения груминга с дополнительными услугами

|Владелец питомца|
start
:Посещает сайт салона груминга;
:Просматривает портфолио и отзывы;
:Нажимает "Записаться на груминг";

|Система бронирования|
:Отображает календарь доступных дат;
:Показывает доступных грумеров;

|Владелец питомца|
:Выбирает дату и время;
:Выбирает питомца из профиля;
:Выбирает базовые услуги груминга;

if (Добавить дополнительные услуги?) then (yes)
  :Выбирает "Игровая сессия";
  :Выбирает "Дневной присмотр";
  :Указывает время возврата;
else (no)
  :Подтверждает только базовые услуги;
endif

|Система бронирования|
:Рассчитывает итоговую стоимость;
:Отображает детали заказа;

|Владелец питомца|
:Подтверждает бронирование;
:Оплачивает услуги онлайн;

|Система бронирования|
:Создает запись в расписании;
:Отправляет подтверждение на email;
:Уведомляет грумера о записи;

|Грумер|
:Подготавливает рабочее место;
:Проверяет инструменты и материалы;

|Владелец питомца|
:Привозит питомца в салон;

|Грумер|
:Встречает владельца и питомца;
:Проверяет бронирование;

if (Заказана игровая сессия?) then (yes)
  :Проводит в игровую зону;
  :Проводит 15-30 минут игровой сессии;
  :Отправляет фото-отчет владельцу;
else (no)
  note right: Пропустить игровую сессию
endif

:Начинает процедуру груминга;
:Выполняет выбранные услуги;

if (Заказан дневной присмотр?) then (yes)
  |Ассистент по присмотру|
  :Принимает питомца после груминга;
  :Размещает в комфортной зоне;
  
  repeat
    :Обеспечивает кормление по расписанию;
    :Организует прогулки каждые 2-3 часа;
    :Отправляет фото-отчет владельцу;
  repeat while (Не наступило время возврата?)
  
  :Подготавливает питомца к возврату;
else (no)
  |Грумер|
  :Завершает процедуру;
  :Подготавливает питомца к возврату;
endif

|Владелец питомца|
:Забирает питомца;
:Получает финальный отчет;

|Система учета|
:Записывает посещение в историю;
:Отправляет запрос на отзыв;

end

@enduml